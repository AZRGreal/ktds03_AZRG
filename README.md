20239082 서비스Agent팀 이현재 책임 | hyunjae.lee@kt.com

제목: 지하철 주변 음식점/카페 검색을 통한 업무 효율화 증대
    부제: 인기 있는 것은 이유가 있다.
사용대상: 팀 막내, 총무 역할의 직원

---
# 📌 목적 · 배경 · 정의

## 목적

|     | 내용 |
|-----|------|
| 🎯  | 지하철역 주변의 음식점/카페를 쉽고 빠르게 검색, 각 음식점의 리뷰 요약 |
| ☁️  | YouTube 영상(제목/설명/자막/댓글 최대 500개) 기반 장·단점 자동 분석 기능 제공 |
| ☁️  | Azure 환경 기반 다양한 기능 활용 (Streamlit 웹앱)으로 사용자 편의성과 인사이트 제공 |

---

## 배경

|     | 내용 |
|-----|------|
| 👨‍💼 | 회사원의 숙명을 타고난 이상 우리는 누구나 "점심/저녁 뭐 먹지?" 고민을 함! |
| 💡  | "막내야, 맛집 좀 찾아봐!"라는 요청에 칭찬도 받고 시간도 아끼고자 제작 |
| 🗺️  | 회식은 역근처! 역세권! 리뷰/평판/이슈를 한눈에 파악하고 싶다는 생각! |
| 🤖  | Google Maps, Azure, GPT 등 AI & 클라우드 연계로 효율적이고 정확한 정보 습득 |
| 🎥  | 어디서 볼까 하다가 역시 YouTube에 실제 후기나 리뷰를 보면 좋겠어 |
| 📝  | 그럼 이제 GPT를 활용해서 리뷰/댓글을 요약해서 시간 절약하자 |
| 🖱️  | 노코드/로우코드 환경에서 누구나 쉽게 사용 가능 (Streamlit 웹 UI) |

---

## 정의

|     | 내용 |
|-----|------|
| 📊  | Streamlit 기반 대시보드형 상권 탐색/분석 웹앱 |
| 🗺️  | Google Maps API로 지하철역 주변 음식점/카페 자동 탐색, 평점·리뷰순 정렬 |
| 🤖  | 각 매장별 대표 리뷰 및 GPT 요약(장단점) 제공 |
| 🎬  | YouTube 영상 URL 입력 시, 관련 댓글(최대 500개)까지 분석해 GPT가 장단점 자동 요약 |

---

## 🏆 우선 요약

| 기능 | 설명 |
|------|------|
| 🏪  | 지하철역 입력 → 주변 인기 음식점/카페 자동 검색 |
| 📝  | 구글 리뷰 및 유튜브 영상 댓글/자막 등 GPT 요약 제공 |
| ☁️  | 클라우드 기반 실시간 맛집/상권 분석 대시보드 |
| 🎥  | 인기 동영상 즉시 요약, 시청 전 핵심 파악 |



## 주요 기능

| 기능명                       | 설명                                                                                       |
|----------------------------|------------------------------------------------------------------------------------------|
| 지하철역 맛집/카페 검색         | 지하철역 반경 500m 내 음식점/카페를 Google Places API로 검색 및 평점/리뷰수로 정렬          |
| 검색 결과 시각화               | 표(DataFrame)와 지도(folium)로 결과를 직관적으로 시각화                                     |
| 대표 리뷰 및 GPT 요약           | 각 장소 대표 리뷰 표시, GPT를 통한 장단점 요약(한글 지원), 요약 결과 Azure에 자동 저장                |
| 상호명 유튜브 연동             | 검색된 상호명을 유튜브에서 즉시 새 창으로 검색                                            |
| YouTube 영상 URL 분석           | 영상 제목/설명/자막/댓글(최대 500개) 기반으로 GPT가 장단점 요약                             |
| CSV 및 요약 Azure 업로드        | 결과 파일 및 요약 결과를 Azure Blob Storage에 저장                                        |

---

## 기술 아키텍처

| 계층     | 사용 기술/모듈             | 역할/기능                                         |
|--------|-----------------------|------------------------------------------------|
| UI     | Streamlit             | 사용자 입력, 결과 출력, 지도/표, 버튼 등                   |
| 지도    | folium, streamlit-folium | 지도 시각화, 마커 표시                               |
| 데이터   | Google Places API      | 음식점/카페/좌표/평점/리뷰 정보 수집                       |
| 파일저장 | pandas, openpyxl, Azure Blob | 결과 CSV 저장 및 Azure 업로드                          |
| AI분석  | OpenAI API            | GPT 기반 리뷰/유튜브 텍스트 요약                         |
| 유튜브   | youtube_data 모듈       | 유튜브 제목/설명/자막/댓글 수집 (스크래핑 or Data API)      |
| 기타    | os, dotenv 등          | 환경변수 관리, 유틸리티 등                               |

---

## 데이터/메타데이터 구조

| 컬럼명               | 예시 값                  | 설명                                 |
|-------------------|----------------------|--------------------------------------|
| name              | "댓짱돈까스 본점"         | 장소명                               |
| type              | "restaurant"         | 장소 유형(음식점/카페 등)            |
| rating            | 4.8                  | 평점                                 |
| user_ratings_total| 385                  | 리뷰 수                              |
| place_id          | ChIJN1t_tDeuEmsRUsoyG83frY4 | Google Places 고유 장소 ID           |

#### YouTube 분석 메타데이터

| 필드         | 예시/포맷                 | 설명                           |
|------------|-----------------------|------------------------------|
| title      | "맛집 유튜브 영상 제목"     | 영상 제목                      |
| desc       | "이 영상은…"              | 영상 설명                      |
| transcript | "안녕하세요. 오늘은…"       | 자막(가능한 경우)               |
| comments   | ["맛있어 보여요!", ...]    | 댓글 리스트(최대 500개)          |
| summary    | "장점: XXX, 단점: YYY"   | GPT 기반 장단점 요약             |

---



⚡ 시스템 요약 흐름

┌────────────────────────────────────────────┐  
│ [1] 사용자 입력(지하철역/유튜브 URL) │  
├────────────────────────────────────────────┤  
│ [2] Streamlit 웹앱이 API로 데이터 요청 │  
│ - Google Maps로 맛집/카페 검색 │  
│ - YouTube Data로 영상/댓글 추출 │  
├────────────────────────────────────────────┤  
│ [3] Azure OpenAI GPT로 리뷰·댓글 요약 │  
├────────────────────────────────────────────┤  
│ [4] 결과(지도/표/요약) 실시간 표시 │  
│ + CSV/Blob에 저장 │  
└────────────────────────────────────────────┘  

---

✅ 장점

|      | 내용 |
|------|------|
| 🚀   | 자동화된 데이터 수집·요약 (리뷰/댓글 많아도 핵심만 빠르게 제공) |
| 🔍   | 실제 고객 목소리(리뷰/댓글) 기반 요약, 현장감/트렌드 반영 |
| 🔗   | Google Maps + YouTube 등 복수 플랫폼 데이터 융합 |
| ☁️   | Azure/OpenAI 활용한 대용량 데이터 실시간 처리 |
| 🖥️   | Streamlit 기반, 별도 설치 없이 간편 웹 UI |
| 🕒   | 실시간 분석: 매장 신규 이슈, 트렌드, 네거티브 탐지 가능 |

---

❌ 단점

|      | 내용 |
|------|------|
| 🎬   | 유튜브 자막 없는 영상은 텍스트 데이터 한계 (설명/댓글 의존) |
| 🔑   | Google Maps/YouTube Data API 등 키 필요, 사전 환경설정 필요 |
| 🗣️   | 리뷰/댓글 품질 문제 (부정확/광고성/감정적/반복 등 한계) |
| ⚠️   | GPT 토큰/글자수 제한(많아도 4,000자/토큰 한계) |
| 📉   | 유튜브 정책/쿼터 제한 시 데이터 수집 안될 수 있음 |
| 🈳   | 한국어 AI 요약 한계 (뻔한 결론/불필요한 정보 등) |

---

📝 총평

> **실제 사용자 리뷰·댓글·영상 텍스트 기반으로  
> 신속하게 매장 평판과 트렌드를 요약하는 AI 대시보드!**  
> 현업 실사용, 데이터 융합·AI 기반 상권/매장 탐색 도구로 추천  
> (블로그/인스타/TikTok 등 후기 추가분석, 감정분석 확장 가능성도 높음)
> 나 좀 잘 했나 싶음.


💡 TMI & 진짜 후기

- 유튜브 영상 다운로드/음성 분석까지 하고 싶었으나  
  **Azure 환경에서 영상 다운로드 기능(yt-dlp 등)이 막혀서..**  
- 각종 우회, 쿠키·토큰 활용 등 도전했으나 실패하며 절망  
- 결국 '영상 자체 다운로드' 대신에 전체적인 변화를 이룸  
  **제목/설명/댓글 분석기**가 대안이였음!



